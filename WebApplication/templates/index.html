{% extends "layout.html" %}
{% block content %}
<div class="top-wrapper">
  <div class="container">
    <h1><span>SUGAO</span></h1>
    <h2><span>S</span>aving <span>U</span>nmasking face <span>G</span>enerated by <span>A</span>I <span>O</span>peration</h2>
    <p>SUGAOは写真中のマスクを付けた人の素顔をAIに予想させるアプリです。</p>
    <p>誰でもその場で簡単に写真を変換して保存することができます。</p>
  </div>
</div>
<div class="fig-wrapper">
  <div class="container">
    <div class="heading">
      <h2>さっそく使ってみましょう!</h2>
    </div>
    <h2>入力画像</h2><br>
    <img id="preview" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="max-width: 300px;">
    <form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" class="btn message" name="image" accept="image/png, image/jpeg, image/jpg" onchange="previewImage(this)">
    <button type="submit" class="btn message" onclick="fileAlert()">変換</button>
    </form>
    <script>
      // imageファイルが選択されているかを判定
      FILE_BOOL = false;
      // 選択した画像を画面に表示
      function previewImage(obj)
      {
        var fileReader = new FileReader();
        fileReader.onload = (function() {
          document.getElementById('preview').src = fileReader.result;
        });
        fileReader.readAsDataURL(obj.files[0]);
        FILE_BOOL = true;
      }

      // 選択してない場合の処理
      function fileAlert()
      {
        if (FILE_BOOL == false)
        {
          alert('画像が選択されていません');
        }
      }

    </script>
  </div>
</div>
<footer>
  <div class="container">
    <p>Let's make memories!</p>
  </div>
</footer>
{% endblock %}